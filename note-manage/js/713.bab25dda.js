"use strict";(self["webpackChunkcompleted_pro"]=self["webpackChunkcompleted_pro"]||[]).push([[713],{1713:function(t,s,e){e.r(s),e.d(s,{default:function(){return l}});var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"list"},[e("div",{staticClass:"list-box"},t._l(t.list,(function(s){return e("div",{key:s.id,staticClass:"list-item",on:{click:function(e){return t.handleToDetail(s)}}},[e("div",{staticClass:"right-wrap"},[e("div",{staticClass:"title"},[t._v(t._s(s.title))]),e("div",{staticClass:"time"},[t._v(t._s(s.time)+" ")]),e("div",{staticClass:"desc"},[t._v(t._s(s.introduction))]),e("div",{staticClass:"content",domProps:{innerHTML:t._s(s.content)}})])])})),0)])},a=[],r={name:"List",data(){return{list:[],categoryList:[],category:""}},watch:{$route(t){const s=t.path.split("/"),e=s[s.length-1];this.category=this.categoryList.find((t=>t.name===e)).id,this.getNotes()}},async created(){await this.getCategory(),await this.getNotes()},methods:{handleToDetail({id:t}){this.$router.push({name:"ClientArticle",label:"文章",params:{type:this.$route.params.type},query:{id:t}})},async getNotes(){try{this.loading=!0;const t={page:1,size:1e6,category:this.category},s=await this.$api.server.getNotes(t);if(1===s.code){const t=s.data;this.list=t.notesList}else this.$message.error(s.msg)}catch(t){this.$message.error("发生错误")}finally{this.loading=!1}},async getCategory(){try{const t={},s=await this.$api.server.getCategoryList(t);if(1===s.code){const t=s.data;this.categoryList=t.categoryList,t.categoryList>0&&(this.category=t.categoryList[0].id)}else this.$message.error(s.msg)}catch(t){this.$message.error("发生错误")}}}},o=r,c=e(3736),n=(0,c.Z)(o,i,a,!1,null,"452e024a",null),l=n.exports}}]);