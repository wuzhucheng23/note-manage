"use strict";(self["webpackChunkcompleted_pro"]=self["webpackChunkcompleted_pro"]||[]).push([[23],{1023:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"container"},[e._m(0),s("div",{staticClass:"right-wrap"},[s("div",{staticClass:"loginCard"},[s("div",{staticClass:"account"},[e._m(1),s("el-form",{ref:"user",staticClass:"accountForm",attrs:{model:e.user}},[s("el-form-item",{attrs:{prop:"account",rules:[{required:!0,message:"账号不能为空!"}]}},[s("el-input",{attrs:{type:"text",placeholder:"请输入账号",clearable:""},model:{value:e.user.account,callback:function(t){e.$set(e.user,"account",t)},expression:"user.account"}})],1),s("el-form-item",{staticClass:"pwd",attrs:{prop:"password",rules:[{required:!0,message:"密码不能为空"}]}},[s("el-input",{attrs:{type:"password",placeholder:"请输入密码",clearable:"","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin("user")}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),s("el-form-item",[s("el-button",{staticClass:"loginBtn",attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.handleLogin("user")}}},[e._v("登        录 ")])],1),s("el-form-item",[s("el-button",{staticClass:"registerBtn",attrs:{type:"primary"},on:{click:e.handleRegister}},[e._v("注        册 ")])],1)],1)],1)])])])])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"left-wrap"},[s("div",[e._v("慧城")]),s("div",[e._v("个人笔记管理系统")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"text-align":"left","padding-top":"80px"}},[s("span",{staticStyle:{"font-size":"18px","padding-left":"105px"}},[e._v(" 用户登录 ")])])}],n={name:"Login",data(){return{user:{account:"",password:""},loading:!1}},methods:{async handleLogin(){if(!this.user.account)return this.$message.warning("请输入账号");if(!this.user.password)return this.$message.warning("请输入密码");this.loading=!0;const e={account:this.user.account,password:this.user.password};try{const t=await this.$api.common.login(e);1===t.code?(this.$message.success(t.msg),localStorage.setItem("token",t.data.token),this.$utils.delayPush("PersonInfo","个人中心")):this.$message.error(t.msg)}catch(t){this.$message.error("发生错误")}finally{this.loading=!1}},handleRegister(){this.$router.push({name:"CommonRegister",label:"注册"})}}},i=n,o=s(3736),l=(0,o.Z)(i,a,r,!1,null,"09d16810",null),c=l.exports}}]);