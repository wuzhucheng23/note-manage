"use strict";(self["webpackChunkcompleted_pro"]=self["webpackChunkcompleted_pro"]||[]).push([[786],{3786:function(e,r,a){a.r(r),a.d(r,{default:function(){return i}});var s=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"account-manage"},[a("div",{staticClass:"title"},[e._v("个人信息")]),a("div",{staticClass:"content"},[a("div",{staticClass:"form-wrap"},[a("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"登陆账号：",prop:"account"}},[a("el-input",{attrs:{placeholder:"请输入登陆账号",clearable:"",readonly:""},model:{value:e.form.account,callback:function(r){e.$set(e.form,"account",r)},expression:"form.account"}})],1),a("el-form-item",{attrs:{label:"登陆密码：",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入登陆密码",type:"password","show-password":"",clearable:""},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"确认密码：",prop:"repeatPassword"}},[a("el-input",{attrs:{placeholder:"请输入确认密码",type:"password","show-password":"",clearable:""},model:{value:e.form.repeatPassword,callback:function(r){e.$set(e.form,"repeatPassword",r)},expression:"form.repeatPassword"}})],1),a("el-form-item",{attrs:{label:"用户名称：",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",clearable:""},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:" "}},[a("el-button",{attrs:{type:"plain"},on:{click:e.handleReset}},[a("span",[e._v("重置")])]),a("el-button",{staticClass:"save-btn",attrs:{type:"primary"},on:{click:e.handleSave}},[a("span",[e._v("确认保存")])])],1)],1)],1)])])},t=[],o=a(8534),n=(a(5666),{name:"AccountManage",data:function(){var e={account:[{required:!0,trigger:"blur",message:"不能为空"}],password:[{required:!0,trigger:"blur",message:"不能为空"}],repeatPassword:[{required:!0,trigger:"blur",message:"不能为空"}]};return{form:{account:"",password:"",repeatPassword:"",username:""},rules:e,loading:!1}},methods:{getUser:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function r(){var a,s,t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.loading=!0,a={},r.next=5,e.$api.server.getUser(a);case 5:s=r.sent,1===s.code?(t=s.data,e.form.account=t.account,e.form.password=t.password,e.form.repeatPassword=t.password,e.form.username=t.username):e.$message.error(s.msg),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),e.$message.error("发生错误");case 12:return r.prev=12,e.loading=!1,r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[0,9,12,15]])})))()},handleReset:function(){this.form={account:this.form.account}},handleSave:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.form.password===e.form.repeatPassword){r.next=2;break}return r.abrupt("return",e.$message.warning("登陆密码与确认密码不一致"));case 2:return r.prev=2,a={password:e.form.password,name:e.form.username},r.next=6,e.$api.server.editUser(a);case 6:s=r.sent,1===s.code?(e.$message.success(s.msg),e.getUser()):e.$message.error(s.msg),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](2),e.$message.error("发生错误");case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))()}},created:function(){this.getUser()}}),l=n,c=a(3736),u=(0,c.Z)(l,s,t,!1,null,"85cf7458",null),i=u.exports}}]);